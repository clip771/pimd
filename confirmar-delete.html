<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Confirmar Limpeza</title>
</head>
<body>
  <h1>Confirmar Limpeza</h1>
  <p>Digite <strong>DELETE</strong> para confirmar:</p>
  <input type="text" id="confirmacao" placeholder="Digite DELETE" />
  <button onclick="confirmarDelete()">Confirmar</button>
  <pre id="resposta"></pre>

  <script>
    async function confirmarDelete() {
      const valor = document.getElementById('confirmacao').value;
      const respostaElem = document.getElementById('resposta');

      try {
        const res = await fetch('/.netlify/functions/limpar-online', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({ confirm: valor })
        });

        const resultado = await res.json();
        respostaElem.textContent = JSON.stringify(resultado, null, 2);
      } catch (erro) {
        respostaElem.textContent = 'Erro: ' + erro.message;
      }
    }
  </script>
</body>
</html>
